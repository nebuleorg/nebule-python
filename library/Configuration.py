import os.path

if __name__ == '__main__':
    print('Do not call directly!')

class Configuration():
    LIB_REF_CODE_ALGO = 'sha2.256'
    LIB_LOCAL_ENVIRONMENT_FILE = 'c'
    LIB_LOCAL_ENTITY_FILE = 'e'
    LIB_LOCAL_LINKS_FOLDER = 'l'
    LIB_LOCAL_OBJECTS_FOLDER = 'o'
    LIB_LOCAL_HISTORY_FILE = 'h'
    LIB_NID_MIN_HASH_SIZE = 64
    LIB_NID_MAX_HASH_SIZE = 8192
    LIB_NID_MIN_ALGO_SIZE = 2
    LIB_NID_MAX_ALGO_SIZE = 12
    LIB_FIRST_GENERATED_NAME_SIZE = 6
    LIB_FIRST_GENERATED_PASSWORD_SIZE = 14
    LIB_FIRST_RELOAD_DELAY = 3000
    LIB_DEFAULT_PUPPETMASTER_EID = '88848d09edc416e443ce1491753c75d75d7d8790c1253becf9a2191ac369f4ea.sha2.256'
    LIB_CONFIGURATIONS_NAME = (
        'puppetmaster',
        'hostURL',
        'permitWrite',
        'permitWriteObject',
        'permitCreateObject',
        'permitSynchronizeObject',
        'permitProtectedObject',
        'permitWriteLink',
        'permitCreateLink',
        'permitSynchronizeLink',
        'permitUploadLink',
        'permitPublicUploadLink',
        'permitPublicUploadCodeAuthoritiesLink',
        'permitObfuscatedLink',
        'permitWriteEntity',
        'permitPublicCreateEntity',
        'permitWriteGroup',
        'permitWriteConversation',
        'permitCurrency',
        'permitWriteCurrency',
        'permitCreateCurrency',
        'permitWriteTransaction',
        'permitObfuscatedTransaction',
        'permitSynchronizeApplication',
        'permitPublicSynchronizeApplication',
        'permitDeleteObjectOnUnknownHash',
        'permitCheckSignOnVerify',
        'permitCheckObjectHash',
        'permitListInvalidLinks',
        'permitHistoryLinksSign',
        'permitInstanceEntityAsAuthority',
        'permitDefaultEntityAsAuthority',
        'permitLocalSecondaryAuthorities',
        'permitRecoveryEntities',
        'permitRecoveryRemoveEntity',
        'permitInstanceEntityAsRecovery',
        'permitDefaultEntityAsRecovery',
        'permitAddLinkToSigner',
        'permitListOtherHash',
        'permitLocalisationStats',
        'permitFollowUpdates',
        'permitOnlineRescue',
        'permitLogs',
        'permitJavaScript',
        'codeBranch',
        'logsLevel',
        'modeRescue',
        'cryptoLibrary',
        'cryptoHashAlgorithm',
        'cryptoSymmetricAlgorithm',
        'cryptoAsymmetricAlgorithm',
        'socialLibrary',
        'ioLibrary',
        'ioReadMaxLinks',
        'ioReadMaxData',
        'ioReadMaxUpload',
        'ioTimeout',
        'displayUnsecureURL',
        'displayNameSize',
        'displayEmotions',
        'forceDisplayEntityOnTitle',
        'linkMaxFollowedUpdates',
        'linkMaxRL',
        'linkMaxRLUID',
        'linkMaxRS',
        'permitSessionOptions',
        'permitSessionBuffer',
        'permitBufferIO',
        'sessionBufferSize',
        'defaultCurrentEntity',
        'defaultApplication',
        'permitApplication1',
        'permitApplication2',
        'permitApplication3',
        'permitApplication4',
        'permitApplication5',
        'permitApplication6',
        'permitApplication7',
        'permitApplication8',
        'permitApplication9',
        'defaultObfuscateLinks',
        'defaultLinksVersion',
        'subordinationEntity',
    )
    LIB_CONFIGURATIONS_TYPE = (
        ('puppetmaster', 'string'),
        ('hostURL', 'string'),
        ('permitWrite', 'boolean'),
        ('permitWriteObject', 'boolean'),
        ('permitCreateObject', 'boolean'),
        ('permitSynchronizeObject', 'boolean'),
        ('permitProtectedObject', 'boolean'),
        ('permitWriteLink', 'boolean'),
        ('permitCreateLink', 'boolean'),
        ('permitSynchronizeLink', 'boolean'),
        ('permitUploadLink', 'boolean'),
        ('permitPublicUploadLink', 'boolean'),
        ('permitPublicUploadCodeAuthoritiesLink', 'boolean'),
        ('permitObfuscatedLink', 'boolean'),
        ('permitWriteEntity', 'boolean'),
        ('permitPublicCreateEntity', 'boolean'),
        ('permitWriteGroup', 'boolean'),
        ('permitWriteConversation', 'boolean'),
        ('permitCurrency', 'boolean'),
        ('permitWriteCurrency', 'boolean'),
        ('permitCreateCurrency', 'boolean'),
        ('permitWriteTransaction', 'boolean'),
        ('permitObfuscatedTransaction', 'boolean'),
        ('permitSynchronizeApplication', 'boolean'),
        ('permitPublicSynchronizeApplication', 'boolean'),
        ('permitDeleteObjectOnUnknownHash', 'boolean'),
        ('permitCheckSignOnVerify', 'boolean'),
        ('permitCheckObjectHash', 'boolean'),
        ('permitListInvalidLinks', 'boolean'),
        ('permitHistoryLinksSign', 'boolean'),
        ('permitInstanceEntityAsAuthority', 'boolean'),
        ('permitDefaultEntityAsAuthority', 'boolean'),
        ('permitLocalSecondaryAuthorities', 'boolean'),
        ('permitRecoveryEntities', 'boolean'),
        ('permitRecoveryRemoveEntity', 'boolean'),
        ('permitInstanceEntityAsRecovery', 'boolean'),
        ('permitDefaultEntityAsRecovery', 'boolean'),
        ('permitAddLinkToSigner', 'boolean'),
        ('permitListOtherHash', 'boolean'),
        ('permitLocalisationStats', 'boolean'),
        ('permitFollowUpdates', 'boolean'),
        ('permitOnlineRescue', 'boolean'),
        ('permitLogs', 'boolean'),
        ('permitJavaScript', 'boolean'),
        ('codeBranch', 'string'),
        ('logsLevel', 'string'),
        ('modeRescue', 'boolean'),
        ('cryptoLibrary', 'string'),
        ('cryptoHashAlgorithm', 'string'),
        ('cryptoSymmetricAlgorithm', 'string'),
        ('cryptoAsymmetricAlgorithm', 'string'),
        ('socialLibrary', 'string'),
        ('ioLibrary', 'string'),
        ('ioReadMaxLinks', 'integer'),
        ('ioReadMaxData', 'integer'),
        ('ioReadMaxUpload', 'integer'),
        ('ioTimeout', 'integer'),
        ('displayUnsecureURL', 'boolean'),
        ('displayNameSize', 'integer'),
        ('displayEmotions', 'boolean'),
        ('forceDisplayEntityOnTitle', 'boolean'),
        ('linkMaxFollowedUpdates', 'integer'),
        ('linkMaxRL', 'integer'),
        ('linkMaxRLUID', 'integer'),
        ('linkMaxRS', 'integer'),
        ('permitSessionOptions', 'boolean'),
        ('permitSessionBuffer', 'boolean'),
        ('permitBufferIO', 'boolean'),
        ('sessionBufferSize', 'integer'),
        ('defaultCurrentEntity', 'string'),
        ('defaultApplication', 'string'),
        ('permitApplication1', 'boolean'),
        ('permitApplication2', 'boolean'),
        ('permitApplication3', 'boolean'),
        ('permitApplication4', 'boolean'),
        ('permitApplication5', 'boolean'),
        ('permitApplication6', 'boolean'),
        ('permitApplication7', 'boolean'),
        ('permitApplication8', 'boolean'),
        ('permitApplication9', 'boolean'),
        ('defaultObfuscateLinks', 'boolean'),
        ('defaultLinksVersion', 'string'),
        ('subordinationEntity', 'string'),
    )
    LIB_CONFIGURATIONS_DEFAULT = (
        ('puppetmaster', LIB_DEFAULT_PUPPETMASTER_EID),
        ('hostURL', 'localhost'),
        ('permitWrite', True),
        ('permitWriteObject', True),
        ('permitCreateObject', True),
        ('permitSynchronizeObject', True),
        ('permitProtectedObject', False),
        ('permitWriteLink', True),
        ('permitCreateLink', True),
        ('permitSynchronizeLink', True),
        ('permitUploadLink', False),
        ('permitPublicUploadLink', False),
        ('permitPublicUploadCodeAuthoritiesLink', False),
        ('permitObfuscatedLink', False),
        ('permitWriteEntity', True),
        ('permitPublicCreateEntity', True),
        ('permitWriteGroup', True),
        ('permitWriteConversation', False),
        ('permitCurrency', False),
        ('permitWriteCurrency', False),
        ('permitCreateCurrency', False),
        ('permitWriteTransaction', False),
        ('permitObfuscatedTransaction', False),
        ('permitSynchronizeApplication', True),
        ('permitPublicSynchronizeApplication', True),
        ('permitDeleteObjectOnUnknownHash', True),
        ('permitCheckSignOnVerify', True),
        ('permitCheckObjectHash', True),
        ('permitListInvalidLinks', False),
        ('permitHistoryLinksSign', False),
        ('permitInstanceEntityAsAuthority', False),
        ('permitDefaultEntityAsAuthority', False),
        ('permitLocalSecondaryAuthorities', True),
        ('permitRecoveryEntities', False),
        ('permitRecoveryRemoveEntity', False),
        ('permitInstanceEntityAsRecovery', False),
        ('permitDefaultEntityAsRecovery', False),
        ('permitAddLinkToSigner', True),
        ('permitListOtherHash', False),
        ('permitLocalisationStats', True),
        ('permitFollowUpdates', True),
        ('permitOnlineRescue', False),
        ('permitLogs', False),
        ('permitJavaScript', False),
        ('codeBranch', 'stable'),
        ('logsLevel', 'NORMAL'),
        ('modeRescue', False),
        ('cryptoLibrary', 'openssl'),
        ('cryptoHashAlgorithm', 'sha2.256'),
        ('cryptoSymmetricAlgorithm', 'aes.256.ctr'),
        ('cryptoAsymmetricAlgorithm', 'rsa.2048'),
        ('socialLibrary', 'authority'),
        ('ioLibrary', 'ioFileSystem'),
        ('ioReadMaxLinks', 2000),
        ('ioReadMaxData', 10000),
        ('ioReadMaxUpload', 2000000),
        ('ioTimeout', 1),
        ('displayUnsecureURL', True),
        ('displayNameSize', 128),
        ('displayEmotions', False),
        ('forceDisplayEntityOnTitle', False),
        ('linkMaxFollowedUpdates', 100),
        ('linkMaxRL', 1),
        ('linkMaxRLUID', 4),
        ('linkMaxRS', 1),
        ('permitSessionOptions', True),
        ('permitSessionBuffer', True),
        ('permitBufferIO', True),
        ('sessionBufferSize', 1000),
        ('defaultCurrentEntity', LIB_DEFAULT_PUPPETMASTER_EID),
        ('defaultApplication', '1'),
        ('permitApplication1', True),
        ('permitApplication2', True),
        ('permitApplication3', True),
        ('permitApplication4', False),
        ('permitApplication5', False),
        ('permitApplication6', False),
        ('permitApplication7', False),
        ('permitApplication8', False),
        ('permitApplication9', False),
        ('defaultObfuscateLinks', False),
        ('defaultLinksVersion', '2.0'),
        ('subordinationEntity', ''),
    )

    def __init__(self):
        print('Do not call directly!')

    def get_configuration_as_string(self, name):
        print(f"get option {name}")
        option = self.get_configuration_from_file(name)
        if option == '' and name in self.LIB_CONFIGURATIONS_NAME and self.LIB_CONFIGURATIONS_TYPE[name] == 'string':
            option = self.LIB_CONFIGURATIONS_DEFAULT[name]
        return option

    def get_configuration_from_file(self, name):
        print(f"get option {name}")
        if not os.path.isfile(self.LIB_LOCAL_ENVIRONMENT_FILE):
            return ''
        # FIXME
        return ''
